<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript" src="js/knockout-2.2.1.js"></script>
        <link rel="stylesheet" href="css/bootstrap.min.css"/>
    </head>
    <body>
        <header>
            <h1 class="page-header">Create a web crawler</h1>
        </header>
        <div>
            <div class="control-group">
                <label class="control-label" for="crawlerName">Name</label>
                <div class="controls">
                    <input id="crawlerName" class="input-large" type="text" data-bind="value: name"/>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="startUrl">Start Url</label>
                <div class="controls">
                    <input data-bind="value: startUrl" id="startUrl" class="input-large" type="url"/>
                </div>
            </div>
            <field-set>
                <legend>Crawl Levels</legend>
                <button class="btn" data-bind="click: newLevel">&plus; New level</button>
                <ol data-bind="foreach: levels">
                    <li class="form-horizontal">
                        <field-set>
                            <legend>Crawl Level</legend>
                            <div class="control-group">
                                <label for="crawlPath" class="control-label">Crawl Path</label>
                                <div class="controls">
                                    <input class="input-large" id="crawlPath" data-bind="value: crawlPath"/>
                                </div>
                            </div>
                            <div class="control-group">
                                <label for="cssExpression" class="control-label">CSS Expression</label>
                                <div class="controls">
                                    <input class="input-large" id="cssExpression" data-bind="value: cssExpression"/>
                                </div>
                            </div>
                            <div class="control-group">
                                <label for="type" class="control-label">Extraction type</label>
                                <div class="controls">
                                    <select name="type" id="type" data-bind="value: type" class="input-large">
                                        <option value="text">Text</option>
                                        <option value="image">Image</option>
                                    </select>
                                </div>
                            </div>
                            <div class="control-group">
                                <label for="defaultValue" class="control-label">Default Value</label>
                                <div class="controls">
                                    <input class="input-large"cd Deve    id="defaultValue" name="defaultValue" data-bind="value: defaultValue"/>
                                </div>
                            </div>
                        </field-set>

                    </li>
                </ol>
            </field-set>

        </div>
        <script type="text/javascript">

            function CrawlLevel (crawlPath, cssExpression, type, defaultValue) {
                this.crawlPath = ko.observable(crawlPath);
                this.cssExpression = ko.observable(cssExpression);
                this.type = ko.observable(type);
                this.defaultValue = ko.observable(defaultValue);
            }

            function CrawlModel () {
                this.levels = ko.observableArray([]);
                this.name = ko.observable('No Name');
                this.startUrl = ko.observable('');

                this.newLevel = function () {
                    this.levels.push(new CrawlLevel('Path', 'css expression', 'text', ''));
                }
            };

            ko.applyBindings(new CrawlModel());
        </script>
    </body>
</html>